(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[41],{215:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return w}));var i=r(0),a=r.n(i),n=r(407),l=r(399),o=(e,t)=>{var{ptrt:r,userOrigin:i}=t,a=r||window.location.href,n=new URL(e);return n.searchParams.set("ptrt",a),i&&n.searchParams.set("userOrigin",i),n.toString()},s=r(38),c=r(282);function u(e,t,r,i,a,n,l){try{var o=e[n](l),s=o.value}catch(c){return void r(c)}o.done?t(s):Promise.resolve(s).then(i,a)}var v=e=>{var[{registerUrl:t,signInUrl:r,idAvailability:a,webCoreUsiModalFeature:n},l]=Object(i.useState)({registerUrl:null,signInUrl:null,idAvailability:!1,webCoreUsiModalFeature:!1}),{host:o}=Object(c.b)(),v=((e,t)=>{var r=t&&!t.endsWith(".com")?".co.uk":".com";return"https://idcta".concat("live"===e?"":".test",".api.bbc").concat(r,"/idcta/config")})(e,o);return Object(i.useEffect)((()=>{(function(){var e,t=(e=function*(){var e=yield Object(s.a)(v),t=yield e.json(),r="GREEN"===t["id-availability"];l({registerUrl:r?t.register_url:t.unavailable_url,signInUrl:r?t.signin_url:t.unavailable_url,idAvailability:"GREEN"===t["id-availability"],webCoreUsiModalFeature:t.features.webCoreUsiModal})},function(){var t=this,r=arguments;return new Promise((function(i,a){var n=e.apply(t,r);function l(e){u(n,i,a,l,o,"next",e)}function o(e){u(n,i,a,l,o,"throw",e)}l(void 0)}))});return function(){return t.apply(this,arguments)}})()()}),[v]),{registerUrl:t,signInUrl:r,idAvailability:a,webCoreUsiModalFeature:n}},g="account-prompt",b="".concat(g,"-content-page-views"),d="".concat(g,"-last-shown-date"),m=(e,t)=>{var{host:r}=Object(c.b)();Object(i.useEffect)((()=>{var i,a=Object(l.a)(),n=r&&r.endsWith(".com");a||n||(i=localStorage.getItem(d),i&&Date.now()-new Date(Number(i)).getTime()<864e5)||((e=>{var t=localStorage.getItem(b);switch(e){case"index":localStorage.setItem(b,0);break;case"content":null!==t&&localStorage.setItem(b,Number(t)+1)}return Number(localStorage.getItem(b))})(e)<3||(t({show:!0,hideIfServiceUnavailable:!0}),localStorage.setItem(d,Date.now()),localStorage.removeItem(b)))}),[])},U=e=>{var{env:t,hideIfServiceUnavailable:r,ptrt:i,userOrigin:l,setSignInPrompt:s}=e,{idAvailability:c,signInUrl:u,registerUrl:g,webCoreUsiModalFeature:b}=v(t);if(!(u&&g)||r&&(!c||!b))return null;var d=o(u,{ptrt:i,userOrigin:l}),m=o(g,{ptrt:i,userOrigin:l});return a.a.createElement(n.a,{signInUrl:d,registerUrl:m,onDismiss:()=>s({show:!1})})},w=e=>{var{env:t,pageType:r,signInPrompt:{show:i,hideIfServiceUnavailable:n,ptrt:o,userOrigin:s},setSignInPrompt:c}=e;return m(r,c),Object(l.a)()||!i?null:a.a.createElement(U,{env:t,hideIfServiceUnavailable:n,ptrt:o,userOrigin:s,setSignInPrompt:c})}}}]);