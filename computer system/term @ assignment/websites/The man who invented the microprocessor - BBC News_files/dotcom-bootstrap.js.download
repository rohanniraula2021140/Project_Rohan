/*! "1.68.0-20210707-094020-7b2d621" */!function(){"use strict";const e=e=>{if("undefined"==typeof document||!e)return"";const o=`; ${document.cookie}`.split(`; ${encodeURIComponent(e)}=`);let t="";return 2===o.length&&(t=decodeURIComponent(o.pop().split(";").shift())),t},o=e=>{window.dotcom.consent=e},t=()=>window.dotcom.consent,n=e=>{if("object"==typeof window.dotcom.vendorConsent&&null!==window.dotcom.vendorConsent&&void 0!==e)return window.dotcom.vendorConsent[e]},i=(e,o)=>{"object"==typeof window.dotcom.vendorConsent&&null!==window.dotcom.vendorConsent&&void 0!==e&&(window.dotcom.vendorConsent[e]=o)},s=new RegExp("^(/)?(afaanoromoo|afrique|amharic|arabic|azeri|bengali|burmese|gahuza|gujarati|hausa|hindi|igbo|indonesia|korean|kyrgyz|japanese|marathi|mundo|naidheachdan|nepali|pashto|persian|pidgin|portuguese|punjabi|russian|serbian|sinhala|somali|swahili|tajik|tamil|telugu|thai|tigrinya|turkce|ukchina|ukrainian|urdu|uzbek|vietnamese|yoruba|zhongwen)"),a=new RegExp("^/ws/av-embeds/"),d=["AT","AX","BE","BG","BL","CY","CZ","DE","DK","EE","ES","EU","FI","FR","GB","GF","GG","GI","GP","GR","HR","HU","IE","IM","IS","IT","JE","LI","LT","LU","LV","MF","MT","MQ","NL","NO","PL","PM","PT","RE","RO","SE","SI","SK","YT"],r={state:0,eea:!0,country:"gb",ads:!1,notUkIp:!1},c={state:0,adverts:!1},l=()=>"undefined"!=typeof window&&/[?|&]ads-debug/.test(window.location.href)||"undefined"!=typeof document&&-1!==document.cookie.indexOf("ads-debug=")||void 0!==window.dotcom.config&&!0===window.dotcom.config.adsDebug,w=(e=window.location.href)=>!(void 0===window.dotcom.config||!window.dotcom.config.mode||"test"!==window.dotcom.config.mode)||("undefined"!=typeof live&&"test"===live||(-1!==e.indexOf("test.api.bbc.co.uk")||/(localhost|sandbox|int|test|stage)(.dev)*.bbc.co*/.test(e))),p=()=>!0===window.dotcom.userinfo.notUkIp&&!0===window.dotcom.userinfo.ads,m=()=>!!(l()||p()&&window.dotcom.flags.state>0&&window.dotcom.flags.adverts),u=e=>{var o;window.dotcom.userinfo.country=e["X-Country"],window.dotcom.userinfo.notUkIp="no"===e["X-Ip_is_uk_combined"],window.dotcom.userinfo.ads="yes"===e["X-Ip_is_advertise_combined"],!0===window.dotcom.userinfo.notUkIp&&(window.dotcom.userinfo.eea=!!(o=window.dotcom.userinfo.country)&&-1!==d.indexOf(o.toUpperCase()))},g=e=>{Object.keys(e).forEach((o=>{let t=e[o];t="true"===t||t,t="false"!==t&&t,window.dotcom.flags[o]=t}))},f=()=>fetch(w()?"https://gn-flagpoles.test.api.bbci.co.uk/ngas":"https://gn-flagpoles.api.bbci.co.uk/ngas").then((e=>{if(e.ok)return e.json();throw new Error("Error fetching flags")})).then((e=>{g(e),window.dotcom.flags.state=2,l()&&(window.dotcom.flags.adverts=!0,window.dotcom.flags.analytics=!0)})).catch((e=>(window.dotcom.flags.state=-2,Promise.reject(e))));let h=[];const v={isAdsDebug:l,isTestEnv:w,isDotcomAllowed:p,isAdsEnabled:()=>new Promise((e=>{window.dotcom.userinfo.state<0||window.dotcom.flags.state<0?e(m()):0===window.dotcom.userinfo.state||0===window.dotcom.flags.state?h.push(e):e(m())})),isAnalyticsEnabled:()=>!0===window.dotcom.flags.analytics,isSigninEnabled:()=>!0===window.dotcom.flags.signin,isInEEA:()=>window.dotcom.userinfo.eea,isWorldService(e){const o=e||window.location.pathname;return s.test(o)||a.test(o)},checkCookies(){o(1);const t=e("ckns_policy");(l()||t&&"1"===t.charAt(2))&&o(2),t||window.dotcom.userinfo.eea||o(2)},init(){const e=({resolve:e,reject:o,err:t})=>{e&&e(!0),o&&o(t),h&&h.length>0&&(h.forEach((e=>e(m()))),h=[])};return new Promise(((o,t)=>{l()?(window.dotcom.userinfo.state=1,window.dotcom.userinfo.country="au",window.dotcom.userinfo.notUkIp=!0,window.dotcom.userinfo.ads=!0,window.dotcom.userinfo.eea=!1,f().then((()=>{e({resolve:o})})).catch((o=>{e({reject:t,err:o})}))):fetch("https://www.bbc.com/userinfo").then((e=>{if(e.ok)return e.json();throw new Error("Error fetching userinfo")})).then((e=>{u(e),window.dotcom.userinfo.state=1})).catch((e=>(window.dotcom.userinfo.state=-1,Promise.reject(e)))).then((()=>{p()?fetch(w()?"https://gn-flagpoles.test.api.bbci.co.uk/gnlops":"https://gn-flagpoles.api.bbci.co.uk/gnlops").then((e=>{if(e.ok)return e.json();throw new Error("Error fetching gnlops flags")})).then((e=>{g(e),window.dotcom.flags.state=1})).catch((e=>(window.dotcom.flags.state=-1,Promise.reject(e)))).then((()=>{!0!==window.dotcom.flags.adverts&&!0!==window.dotcom.flags.analytics||f().then((()=>{e({resolve:o})}))})).catch((o=>{e({reject:t,err:o})})):(window.dotcom.flags.state=1,e({resolve:o}))})).catch((o=>{e({reject:t,err:o})}))}))},reset(){h=[],window.dotcom=window.dotcom||{},window.dotcom.userinfo={...r},window.dotcom.flags={...c},window.dotcom.vendorConsent=[]}},b={name:"grapeshot",urlParams:()=>({pageUrl:window.location.href.split("?")[0]}),url:e=>{let o=e.pageUrl;return o.indexOf("/ws/av-embeds/cps/")>0&&(o=`${o.split("ws/av-embeds/cps/")[0]}${o.split("/ws/av-embeds/cps/")[1].split("/").splice(0,2).join("/")}`),o=encodeURIComponent(o),`https://bbc.gscontxt.net/?url=${o}`},meetsRequirements:e=>void 0!==e.grapeshot&&e.grapeshot},E={name:"gpt",url:()=>"https://securepubads.g.doubleclick.net/tag/js/gpt.js",meetsRequirements:e=>void 0!==e.adverts&&e.adverts&&window.dotcom.config.pageAds},y=(e,o,t,n,i)=>{if(!o){o=o||{},window.permutive=o,o.q=[],o.config=i||{},o.config.projectId=t,o.config.apiKey=n,o.config.environment=o.config.environment||"production";for(var s=["addon","identify","track","trigger","query","segment","segments","ready","on","once","user","consent"],a=0;a<s.length;a++){var d=s[a];o[d]=function(e){return function(){var t=Array.prototype.slice.call(arguments,0);o.q.push({functionName:e,arguments:t})}}(d)}}},k="log",_="error",P={enabled:!1};("undefined"!=typeof window&&/[?|&]ads-debug/.test(window.location.href)||"undefined"!=typeof document&&-1!==document.cookie.indexOf("ads-debug="))&&(P.enabled=!0);const x=function(e){return(o,t=k)=>{P.enabled&&console[t](`dotcom:${e} ${o}`)}},I=x("permutive"),$=()=>{if(!window.permutive)return;let e="PERF_COOKIE_ENABLED";n("permutive")&&(e="CMP_VENDOR_CONSENT");(void 0!==n("permutive")?n("permutive"):2===t())?(I("Consent on"),window.permutive.consent({opt_in:!0,token:e})):(I("Consent off"),window.permutive.consent({opt_in:!1}))},C=e=>{const o=e?e.replace(/(_|-|\/)[0-9]{7,8}$/,""):"";return o.indexOf("/")>-1?o.split("/"):[o]};const A=(e,o)=>{const t=o.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]"),n=new RegExp(`[\\?&]${t}=([^&#]*)`).exec(e);return null===n?"":decodeURIComponent(n[1].replace(/\+/g," "))},S=["/4817","/bbccom.ENV.site.SITE","/SECTION_SUBSECTION"],T=function(e){const o={};return function(...t){const n=JSON.stringify(t);if(n in o)return o[n];const i=e(...t);return o[n]=i,i}}(((e,o)=>{const t=[...S],n=e.indexOf("?")>-1?`?${e.split("?")[1]}`:"",i=e.split("?")[0],s=A(n,"site"),a=A(n,"adUnit");let d=i.match(/http(|s):\/\/[a-z0-9\-.]+(.com|.co.uk)(:\d+)?(\/)?(.*)?/);d=d?d.pop():"",d=d&&""!==d?(e=>e.replace(/^(news\/av\/)(.*)\/[^/]+$/,"$1$2").replace(/^news\/av\//,"news/").replace(/_and_/,"-").replace(/^news\/uk-(england|northern-ireland|scotland|wales)($|-|\/)/,"news/uk/$2").replace(/^news\/uk-([a-z]+)(-([a-z]+))?/,"news/$1/$3").replace(/^news\/(world)-([a-z-]+)/,"news/$2/").replace(/^sport\/av\//,"sport/").replace(/^sport\/(world|uk)/,"sport").replace(/^sport\/(.*)\/sports($|\/)/,"sport/$1$2").replace(/market-data\/overview/,"market-data").replace(/^(programmes)/,"news/$1"))(d):d;const r=C(d)||[],c=v.isWorldService(d),l=v.isTestEnv(i);let w=""===r[0]||"wwhp"===r[0]?"www":r[0];return a||(void 0===r[0]&&(r[0]="homepage"),"sport"===r[0]&&(w="news",r[1]&&(r[1]=r[1].replace("-",""))),"in-pictures"===r[1]&&(r[1]="inpictures"),"news"===r[0]&&r[1]&&r[1].indexOf("-")>0&&(r[1]=r[1].split("-")[0]),(l&&"live"!==s||"test"===s)&&(w="flash"),"preview"===s&&(w="test"),"russian"!==r[0]||l||"preview"===s||"test"===s||(w="russia"),"zhongwen"!==r[0]&&"ukchina"!==r[0]||l||(w=r[0]+r[1]),t[1]=""!==s?t[1].replace("ENV",s):t[1].replace("ENV",l?"test":"live"),c&&(!l&&"preview"!==s&&"test"!==s||"live"===s)&&(t[1]=t[1].replace("/bbccom.","/bbcworldservice.")),t[1]=c||!o||l||"test"===s||"preview"===s?t[1].replace("SITE",w).replace("japanese","japan"):t[1].replace("SITE",`mobile.${w}`),"zhongwen"===r[0]?(t[2]=t[2].replace("SECTION",r[0]+r[1]),t[2]=t[2].replace("SUBSECTION",void 0!==r[2]?`${r[2]}_content`:"home_content")):(t[2]=t[2].replace("SECTION",""===r[0]||"wwhp"===r[0]?"bbc":r[0]),t[2]=t[2].replace("SUBSECTION",void 0!==r[1]?`${r[1]}_content`:"homepage_int")),t.join(""))})),R={STORY:"STORY",STY:"STORY",IDX:"INDEX"},O=e=>{let o=(e=>R[e]||!1)(e.type);const t=C(e.path),n=e.href.split(/[?#]/)[0];return o||"homepage"===t[0]&&(o="INDEX"),o||(/.*(-|\/)(\d{7,9})$/.test(n)?"STORY":"INDEX")},j={href:"",path:""},L=()=>{const{page:e}=window.dotcom,{href:o,pathname:t}=window.location,n=document.documentElement.clientWidth<900,i=T(o,n).split("/"),{type:s}=(e=>{const o={...j,...e};return o.type=O(o),o})({href:o,pathname:t}),{adCampaign:a,topics:d=[]}=window.dotcom.config,r=d.length?d.map((e=>e.replace(/\s+/g,"-"))):[],{title:c}=document;return{dfp_adUnit1:i[2]??"",dfp_adUnit2:i[3]??"",type:s,article:{destinations:[],keyword:a??"",name:c??""},channel:e.channel??"",column:"",section:e.section??"",story_id:e.story_id??"",subsection:e.subsection??"",tags:[],topics:r}},D=x("permutive"),N=()=>{if(!window.permutive)return;D("Track page view");const e=L();window.permutive.addon("web",{page:{...e}})},U=e=>{if("string"!=typeof e)return null;const o=e.split(":").map((e=>parseInt(e,10)));switch(o.length){case 3:return 60*o[0]*60+60*o[1]+o[2];case 2:return 60*o[0]+o[1];case 1:return o[0]}return null};let q=0;const M=(e,o)=>{const{play_id:t,properties:{ad:n,video:i,enriched_data:s}}=o;return"ad"===e?{play_id:t,ad:n,video:i,enriched_data:s}:{play_id:t,video:i,enriched_data:s}},V=(e,o)=>{const{permutive:t}=window;switch(e.type){case"playlistLoaded":{const n=e.playlist?.title,i=e.playlist?.groupId,s=e.playlist?.summary,a=U(e.playlist?.programmeDuration),{video:d}=o.properties;n&&(d.name=n),i&&(d.video_id=i),s&&(d.description=s),a&&(d.duration=a);const r=M("video",o);t.track("VideoLoad",r)}break;case"adsPlugin":switch(e.id){case"adRequest":o.adsActive=!0;break;case"adDuration":o.properties.ad.duration=e.duration;break;case"adStarted":{const e=M("ad",o);t.track("VideoAdPlay",e)}break;case"adProgress":{let n=0;switch(e.progress){case"firstQuartile":n=25;break;case"midpoint":n=50;break;case"thirdQuartile":n=75;break;case"complete":n=100}const i={...M("ad",o),progress:n};t.track("VideoAdProgress",i)}break;case"adClick":{const e=M("ad",o);t.track("VideoAdClick",e)}break;case"adData":o.properties.ad.creative_id=parseInt(e.info.creativeId,10),o.properties.ad.lineitem_id=parseInt(e.info.adId,10)}break;case"bbc.smp.plugins.ads.event.AdsPluginExternalEvent.ALL_ADS_COMPLETED":o.adsActive=!1;break;case"playing":if(!o.adsActive){const e=M("video",o);t.track("VideoPlay",e)}break;case"timeupdate":{const n=(e=>e>=75?.75:e>=50?.5:e>=25?.25:0)(Math.floor(e.currentTime)/Math.floor(e.duration)*100);if(n===q)break;if(0===n)break;const i={...M("video",o),progress:n};t.track("VideoProgress",i),q=n}break;case"ended":{const e={...M("video",o),progress:1};t.track("VideoProgress",e)}break;case"fullscreenEnter":case"fullscreenExit":case"picInPicStarted":case"picInPicStopped":{const n={fullscreenEnter:"Full screen on",fullscreenExit:"Full screen off",picInPicStarted:"Picture in picture on",picInPicStopped:"Picture in picture off"},i=o.adsActive?"VideoAdEvent":"VideoEvent",s=o.adsActive?"ad":"video",a=M(s,o);t.track(i,{...a,event:n[e.type]})}}};const z=x("permutive"),X=["playing","adsPlugin","timeupdate","fullscreenEnter","fullscreenExit","picInPicStarted","picInPicStopped","ended","playlistLoaded","bbc.smp.plugins.ads.event.AdsPluginExternalEvent.ALL_ADS_COMPLETED"],Y=()=>{if(!window.permutive)return;z("Track video events");const e=()=>{let e=0;const o=setInterval((()=>{e+=1;const t=window?.embeddedMedia?.api?.players(),n=0===Object.keys(t).length&&t.constructor===Object;return n&&40===e?(z(".embeddedMedia.api.players() returned no players after 40 attempts"),clearInterval(o),!1):!n&&(z(`.embeddedMedia.api.players() returned players after ${e} attempts`),(e=>{Object.keys(e).forEach((o=>{const t=e[o],{player:{playlist:n}}=t,i={play_id:"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(e=>{const o=Math.floor(16*Math.random());return("x"===e?o:3&o|8).toString(16)})),adsActive:!1,properties:{ad:{},video:{},enriched_data:L()}};if(n){const e=n?.title,o=n?.groupId,t=n?.summary,s=U(n?.programmeDuration),{video:a}=i.properties;e&&(a.name=e),o&&(a.video_id=o),t&&(a.description=t),s&&(a.duration=s)}X.forEach((e=>{t.bind(e,(e=>{V(e,i)}))}))}))})(t),clearInterval(o),!0)}),100)};(()=>{let o=0;const t=setInterval((()=>(o+=1,window.embeddedMedia||40!==o?!!window.embeddedMedia&&(z(`.embeddedMedia found after ${o} attempt(s)`),e(),clearInterval(t),!0):(z(".embeddedMedia not found after 40 attempts"),clearInterval(t),!1))),100)})()},G=x("permutive"),F=()=>{if(!window.permutive)return;G("Track grapeshot");const e=L();delete e.dfp_adUnit1,delete e.dfp_adUnit2,window.permutive.track("Grapeshot",{...e,grapeshot:window.gs_channels})},B=x("permutive"),W="e488cdb0-e7cb-4d91-9648-60d437d8e491",H={name:"permutive",url:()=>`https://cdn.permutive.com/${W}-web.js`,preLoad:()=>{y(document,window.permutive,W,"1bb84885-9325-4fef-adda-a208032b2715",{consentRequired:!0}),$()},onLoad:()=>{N(),Y()},trackGrapeshot:F,getCustParams:()=>{B("get cust_params");const e=window.localStorage.getItem("_pdfps");return encodeURIComponent(JSON.parse(e||"[]").slice(0,250).join(","))},meetsRequirements:e=>!v.isWorldService()&&(void 0!==e.permutive&&e.permutive||-1!==window.location.search.indexOf("permutive"))},Q={name:"ias",url:()=>"https://cdn.adsafeprotected.com/iasPET.1.js",preLoad:()=>{window.__iasPET=window.__iasPET||{},window.__iasPET.queue=window.__iasPET.queue||[],window.__iasPET.pubId="9708"},meetsRequirements:e=>!v.isWorldService()&&(-1!==window.location.search.indexOf("ias_publisher")||void 0!==e.ias_publisher&&e.ias_publisher)},K={name:"cmp",url:()=>"https://gn-web-assets.api.bbc.com/ngas/vendor/fundingchoices/cmp.js",preLoad:()=>{window.googlefc=window.googlefc||{},window.googlefc.callbackQueue=window.googlefc.callbackQueue||[]},meetsRequirements:e=>-1!==window.location.search.indexOf("fundingchoices_cmp")||!(!window.dotcom.userinfo.eea&&!document.cookie.split(";").some((e=>e.trim().startsWith("FCCDCF="))))&&(("www.test.bbc.com"===window.location.host||"www.bbc.com"===window.location.host)&&(window.location===window.parent.location&&(void 0!==e.fundingchoices_cmp&&e.fundingchoices_cmp)))},J=e=>{if(!e)return!1;let o=e.match(/http(|s):\/\/[a-z0-9\-.]+(.com|.co.uk)(:\d+)?(\/)?(.*)?/);return o=o?o.pop():"",o=o?o.split(/[?#]/)[0]:"",o},Z=e=>{let o;return/([0-9]{7,8})$/.test(e)&&(o=RegExp.$1),o&&{story_id:o}},ee=e=>({ctype:/[0-9]{7,8}$/.test(e)?"content":"index"}),oe=(e,o)=>{const t={AV:"media_asset",INDEX:"index",FIX:"index",STY:"story"};let n;"string"==typeof o&&t[o]&&(n=t[o]);const i=window?.SIMORGH_DATA?.pageData?.metadata?.type;return void 0===n&&i&&(n=t[i]),void 0===n&&(n=/[0-9]{7,8}$/.test(e)?"story":"index"),/\/(sport|news)\/live\//.test(e)&&(n="live_event"),{asset_type:n}},te=e=>{let o;const t=e.referrer.match(/^(http[s]?:\/\/[a-z0-9.]*bbc\.(co\.uk|com))(.*)$/);if(t){const e=t[3].replace(/default.stm$|-|\/|_/g,"");o=e.length>0&&e.length<=64?escape(e):""}else o="nonbbc";return{referrer:o}},ne=e=>{const o=[];let t,n,i,s=[];if(void 0!==e.cookie)for(i=e.cookie.indexOf("rsi_segs="),i>=0&&(i=e.cookie.indexOf("=",i)+1,i>0&&(n=e.cookie.indexOf(";",i),-1===n&&(n=e.cookie.length),s=e.cookie.substring(i,n).split("|"))),t=0;t<s.length&&t<20;t+=1)o.push(s[t]);return{rsi:o}},ie=e=>{const o=e?e.replace(/(_|-|\/)[0-9]{7,8}$/,""):"";let t=o.indexOf("/")>-1?o.split("/"):[o];t=t.filter((e=>""!==e));return{...t[0]&&{channel:t[0]},...t[1]&&{section:t[1]},...t[2]&&{subsection:t[2]}}},se=(e,o)=>{let t;return"worldservice"===o.channel&&(t=e.split("/").pop().split("_"),t.shift(),t=t.join("_")),t&&{title:t}},ae=(e,o,t)=>{const n=e?J(e):window.location.pathname,i=o||window.document,s=Z(n),a=ee(n),d=oe(n,t),r=te(i),c=ne(i),l=ie(n),w=se(n,l);return{...s,...a,...d,...r,...c,...l,...w,domain:window.location.hostname}},de=x("loader");window.dotcom=window.dotcom||{},window.dotcom.loader=window.dotcom.loader||{loading:[],loaded:[],failed:[],waiting:[]};const re=(e,o,t,n,i)=>{const s=document.createElement("script");s.type="text/javascript",s.async=!0,s.src=e,s.onload=o,s.onerror=t,i?(s.defer=!0,s.nomodule=!0):n&&(s.type="module"),document.head.appendChild(s)},ce=(e,o,t)=>{const n=new Image(1,1);n.onload=o,n.onerror=t,n.src=e},le=(e,o)=>{window.dotcom.loader.waiting[e].forEach((({resolve:t,reject:n})=>{o?t(`${e} has loaded`):n(new Error(`${e} failed to load`))}))},we=({name:e,url:o,urlParams:t,preLoad:n,onLoad:i,isImage:s},a,d)=>{de(`loading ${e}`),window.dotcom.loader.loading.push(e),window.dotcom.loader.waiting[e]=[],"function"==typeof n&&n();const r="function"==typeof t?t():"";(s?ce:re)(o(r),(()=>{const o=`load success > ${e}`;de(o),window.dotcom.loader.loaded.push(e),"function"==typeof i&&i(),a&&a(o),le(e,!0)}),(()=>{const o=`load fail > ${e}`;de(o),window.dotcom.loader.failed.push(e),d&&d(new Error(o)),le(e,!1)}))},pe=({name:e,url:o,urlParams:t,meetsRequirements:n,preLoad:i,onLoad:s,image:a=!1})=>{!window.dotcom.loader.loading.includes(e)&&n(window.dotcom.flags)&&we({name:e,url:o,urlParams:t,preLoad:i,onLoad:s,image:a})},me=({name:e,url:o,urlParams:t,meetsRequirements:n,preLoad:i,onLoad:s,image:a=!1})=>new Promise(((d,r)=>{window.dotcom.loader.loaded.includes(e)?d(`${e} was already loaded`):window.dotcom.loader.failed.includes(e)?r(new Error(`${e} failed to load`)):window.dotcom.loader.loading.includes(e)?window.dotcom.loader.waiting[e].push({resolve:d,reject:r}):n(window.dotcom.flags)?we({name:e,url:o,urlParams:t,preLoad:i,onLoad:s,image:a},d,r):r(new Error(`${e} doesn't meet requirements`))})),ue=(e,o)=>me({name:e,url:()=>o,urlParams:null,meetsRequirements:()=>!0,preLoad:null,onLoad:null}),ge=e=>{e.forEach((e=>{pe(e)}))},fe=e=>{e.forEach((e=>{const o=document.createElement("link");o.href=e,o.rel="dns-prefetch",document.head.appendChild(o)}))},he=(e,o)=>{re(e,(()=>{}),(()=>{}),!0,o)},ve=(e,o)=>new Promise(((t,n)=>{re(e,t,n,!0,o)})),be=x("piano");let Ee=!0;let ye=!1,ke="",_e="",Pe="";const xe=()=>{Pe="NEWS_GNL";const o=`${window.location.href.replace(/\?.*$/,"")}?piano-REPLACETYPE`,t=encodeURIComponent(o);return fetch(`https://idcta.api.bbc.com/idcta/config?ptrt=${t}&userOrigin=${Pe}`,{credentials:"include"}).then((e=>e.json())).then((o=>(e(o.identity.idSignedInCookieName)&&(ye=!0),ke=o.signin_url,_e=o.register_url,"GREEN"===o["id-availability"]?Promise.resolve(!0):Promise.reject(new Error("piano_idcta_flagpole_fail")))))},Ie=()=>ue("piano","//cdn.tinypass.com/api/tinypass.min.js").catch((()=>Promise.reject(new Error("piano_load_fail")))),$e=()=>{Ee=-1!==window.location.search.indexOf("piano-debug"),ue("piano-ad-block","//www.npttech.com/advertising.js").catch((()=>{const e=new Date;return e.setTime(e.getTime()+3e5),document.cookie=`__adblocker=true; expires=${e.toUTCString()}; path=/`,Promise.resolve(!0)})).then(xe).then(Ie).then((()=>{(()=>{const{tp:e}=window;(v.isAdsDebug()||Ee)&&e.push(["setDebug",!0]),e.push(["setAid",Ee?"YRhBqilb8R":"tYOkq7qlAI"]),e.push(["setSandbox",!!Ee]),e.push(["setUseTinypassAccounts",!1]);const o=[window.dotcom.page.asset_type],t=window.dotcom.page.channel;t&&o.push(t),e.push(["setTags",o]);const{section:n}=window.dotcom.page;if(n&&e.push(["setContentSection",n]),e.push(["setCustomVariable","signedinuser",ye]),window.Reverb){e.push(["addHandler","checkoutClose",e=>{"close"===e.state&&window.Reverb.userActionEvent("sign-in prompt","dismiss",{container:"Piano Register Phase 1",personalisation:["EDN=Piano Register Phase 1"],metadata:["EXP=modal"],source:window.location.href},{},{},!0)}]),e.push(["addHandler","showTemplate",e=>{let o;o=""===e.containerSelector?"modal":e.containerSelector.split("-")[1];let t="EDN=Piano Register Phase 1";e.templateVariantId&&(t=`${t}~EXP=${e.templateVariantId}`),window.Reverb.userActionEvent("display","sign-in prompt",{container:"Piano Register Phase 1",personalisation:[t],metadata:[`EXP=${o}`],source:window.location.href})}]);const o=["register-inline1","signin-modal","register-modal","register-inlinenobutton","register-header","register-sidebar","register-adblock","signin-adblock","register-footer"];e.push(["addHandler","checkoutCustomEvent",e=>{let t="EDN=Piano Register Phase 1";if(e.params.variantid&&(t=`${t}~EXP=${e.params.variantid}`),o.includes(e.eventName)){const o=e.eventName.split("-");switch(window.Reverb.userActionEvent("display",o[0],{container:"Piano Register Phase 1",personalisation:[t],metadata:[`EXP=${o[1]}`],source:window.location.href},{},{},!0),o[0]){case"register":window.location.assign(_e.replace("REPLACETYPE",o[1]));break;case"signin":window.location.assign(ke.replace("REPLACETYPE",o[1]))}}}])}e.push(["init",function(){e.experience.init()}])})()})).catch((e=>{be(e,_)}))},Ce="https://gn-web-assets.api.bbc.com/ngas";let Ae="";Ae="1.68.0-20210707-094020-7b2d621/";let Se="";const Te=`${Ce}/${Ae}dotcom-ads.js`,Re=`${Ce}/${Ae}dotcom-analytics.js`,Oe=`${Ce}/${Ae}dotcom-preroll.js`,je=`${Ce}/${Ae}dotcom-signin.js`;window.dotcom=window.dotcom||{},window.dotcom.cmd=window.dotcom.cmd||[],window.dotcom.userinfo={...r,...window.dotcom.userinfo},window.dotcom.flags={...c,...window.dotcom.flags},window.dotcom.vendorConsent={};const Le=Object.freeze({pageAds:!0,playerAds:!0,lang:"en",adCampaign:"",topics:[]});window.dotcom.config={...Le,...window.dotcom.config};const De=(e,o)=>{if(null===o)return;const t=(e=>Object.keys(Le).find((o=>o.toLowerCase()===e.toLowerCase())))(e);void 0!==t?window.dotcom.config[t]=o:v.isAdsDebug()&&console.log(`dotcom invalid config key: ${e}`)};window.dotcom.setConfig=De;let Ne=[],Ue=[];if(window.dotcom.ads&&window.dotcom.ads.resolves){const{resolves:e}=window.dotcom.ads;e&&(e.getAdTag&&(Ne=e.getAdTag.slice()),e.enabled&&(Ue=e.enabled.slice(),Ue.forEach((e=>e(v.isAdsEnabled())))),delete window.dotcom.ads.resolves)}window.dotcom.ads={instances:{},resetAds:()=>{},destroySlot:()=>{},registerSlot:()=>{},enabled:v.isAdsEnabled,getAdTag:()=>new Promise((e=>{var o;void 0!==window.dotcom.ads.adTag?(o=[b,Q],new Promise((e=>{let t=0,n=[];o.forEach((i=>{me(i).then((e=>{n=[...n,e]})).catch((e=>{n=[...n,e]})).then((()=>{t+=1,t===o.length&&e(n)}))}))}))).then((()=>window.dotcom.ads.adTag())).then((o=>{e(o)})):Ne.push(e)}))};const qe=()=>{Ne.length>0&&(Ne.forEach((e=>e(window.dotcom.ads.getAdTag()))),Ne=[])},Me=()=>{!0===window.dotcom.flags.adverts&&(he(Te,Se),window.dotcom.config.playerAds&&ve(Oe,Se).then(qe));let e=!1;"signin"===window.dotcom.config.adCampaign&&("news"===window.dotcom.page.channel&&!0===window.dotcom.flags.signinnews||"news"!==window.dotcom.page.channel&&!0===window.dotcom.flags.signin)&&(e=!0),v.isAdsDebug()?he(je,Se):e&&ve(je,Se).then((()=>{window.dotcom.signinPrompt()})),(!0===window.dotcom.flags.piano&&"news"===window.dotcom.page.channel&&2===t()||-1!==window.location.search.indexOf("piano-debug")&&v.isAdsDebug())&&$e(),!0===window.dotcom.flags.analytics&&he(Re,Se)},Ve=()=>{if(!0===window.dotcom.userinfo.notUkIp&&!0===window.dotcom.userinfo.ads)if(window.dotcom.page=ae(),v.checkCookies(),K.meetsRequirements(window.dotcom.flags)){if(K.preLoad(),v.isWorldService()){const e=document.body.querySelector("header");e&&e.style.setProperty("z-index","2147483643")}new Promise((e=>{window.googlefc.callbackQueue.push({CONSENT_DATA_READY:()=>{window.__tcfapi("getTCData",2,((o,t)=>{t&&(o.gdprApplies&&(window.dotcom.gdprApplies=!0,i("comscore",o.vendor.consents[77]),i("permutive",o.vendor.consents[360]&&o.vendor.consents[361]),i("nielsen",o.vendor.consents[373]&&o.vendor.consents[812]),e(!0)),e(!0)),e(!0)}),[77,164,360,361,373,812])}})})).then((()=>{!0===window.dotcom.flags.adverts&&ge([b,E,H,Q]),Me()})),pe(K)}else!0===window.dotcom.flags.adverts&&ge([b,E,H,Q]),Me()},ze=(e={})=>{var o;o=e,Object.keys(o).forEach((e=>{De(e,o[e])})),De("lang",document.documentElement.lang||window.dotcom.config.lang||Le.lang),window.dotcom.userinfo.state>0&&window.dotcom.flags.state>0?Ve():window.dotcom.userinfo.state<0||window.dotcom.flags.state};window.dotcom.locationChange=()=>{},v.init().then((()=>{v.isDotcomAllowed()&&(!0===window.dotcom.flags.adverts&&fe(["//www.googletagservices.com/","//bbc.gscontxt.net/","//tags.crwdcntrl.net/","//ad.crwdcntrl.net/"]),!0===window.dotcom.flags.analytics&&fe(["//secure-us.imrworldwide.com/","//me-cdn.effectivemeasure.net/","//ssc.api.bbc.com/"])),ze(window.dotcomConfig)})).catch((e=>{console.log(`dotcom environment failed to initialize. Error: ${e}`)}))}();